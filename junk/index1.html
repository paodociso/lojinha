<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>P√£o do Ciso - Card√°pio Digital</title>
    
    <!-- Estilos -->
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    
    <!-- Favicon -->
    <!-- <link rel="icon" type="image/png" href="img/logo-favicon.png"> -->
    
    <!-- Meta Tags para SEO e Redes Sociais -->
    <meta name="description" content="P√£es artesanais de fermenta√ß√£o natural, antipasti e produtos selecionados. Fa√ßa seu pedido para a pr√≥xima fornada do P√£o do Ciso.">
    <meta property="og:type" content="website">
    <meta property="og:title" content="P√£o do Ciso | P√£es Artesanais de Fermenta√ß√£o Natural">
    <meta property="og:description" content="P√£es de fermenta√ß√£o natural, antepastos e produtos artesanais. Fa√ßa seu pedido para a pr√≥xima fornada!">
    <meta property="og:image" content="img/logo-preview.jpg">
    <meta property="og:url" content="https://paodociso.com.br">
    <meta name="theme-color" content="#4a6c2f">
</head>
<body>
    <!-- ===================== CABE√áALHO PRINCIPAL ===================== -->
    <header class="cabecalho-principal">
        <div class="cabecalho-container">
            <div class="logo-placeholder" style="width:70px;height:70px;background:linear-gradient(135deg, #4a6c2f, #8B4513);border-radius:50%;display:flex;align-items:center;justify-content:center;border:2px solid rgba(255,255,255,0.2);">
                <span style="color:white;font-weight:bold;font-size:12px;">P√ÉO<br>DO<br>CISO</span>
            </div>
            
            <div class="cabecalho-info">
                <h1 class="titulo-cabecalho">P√£o do Ciso</h1>
                
                <div class="contatos-cabecalho">
                    <a href="https://instagram.com/paodociso" target="_blank" class="link-contato">
                        <i class="fab fa-instagram"></i> @paodociso
                    </a>
                    <a href="https://wa.me/5511982391781" target="_blank" class="link-contato">
                        <i class="fab fa-whatsapp"></i> (11) 98239-1781
                    </a>
                </div>
            </div>
        </div>
    </header>

    <!-- ===================== BANNER DE FORNADA ===================== -->
    <div class="container">
        <div class="banner-fornada" onclick="abrirModal('modal-informacoes-fornada')">
            <div class="fornada-conteudo">
                <h2 id="texto-data-fornada" class="fornada-titulo">
                    <i class="fas fa-calendar-alt"></i> PR√ìXIMA FORNADA: CARREGANDO...
                </h2>
                <p id="texto-limite-pedido" class="fornada-subtitulo">
                    Pedidos at√©: carregando...
                </p>
            </div>
        </div>
    </div>

    <!-- ===================== √ÅREA PRINCIPAL DE PRODUTOS ===================== -->
    <main id="container-aplicativo" class="container">
        <!-- Os produtos ser√£o carregados dinamicamente pelo JavaScript -->
    </main>

    <!-- ===================== BARRA FIXA DO CARRINHO ===================== -->
    <div id="barra-carrinho" class="barra-carrinho-fixa" onclick="abrirModalCarrinho()">
        <div class="barra-esquerda">
            <span class="quantidade-carrinho" id="resumo-quantidade-carrinho">0 itens</span>
            <span class="valor-carrinho" id="resumo-total-carrinho">R$ 0,00</span>
        </div>
        <div class="barra-direita">
            VER CESTA <i class="fas fa-shopping-basket"></i>
        </div>
    </div>

    <!-- ===================== OVERLAY PARA MODAIS ===================== -->
    <div id="overlay-modal" class="overlay-modal" onclick="fecharTodosModais()"></div>

    <!-- ===================== MODAL 1: INFORMA√á√ïES DA FORNADA ===================== -->
    <div id="modal-informacoes-fornada" class="modal">
        <button class="botao-fechar-modal" onclick="fecharModal('modal-informacoes-fornada')">&times;</button>
        
        <div class="conteudo-modal">
            <i class="fas fa-bread-slice icone-modal"></i>
            
            <h3 class="titulo-modal">Informa√ß√µes da Fornada</h3>
            
            <div id="conteudo-fornada" class="texto-modal">
                <div class="destaque-fornada">
                    <span class="destaque-titulo">PR√ìXIMA FORNADA</span>
                    <span id="data-fornada-modal" class="destaque-data">Carregando...</span>
                    
                    <span class="destaque-titulo">PEDIDOS AT√â</span>
                    <span id="limite-fornada-modal" class="destaque-data">Carregando...</span>
                </div>

                <div class="informacoes-fornada">
                    <p><i class="fas fa-seedling"></i> <strong>Produ√ß√£o Artesanal:</strong> Nossos p√£es s√£o feitos com fermenta√ß√£o natural (Levain).</p>
                    <p><i class="fas fa-clock"></i> <strong>Frescor Garantido:</strong> Tudo √© assado na manh√£ do dia da entrega.</p>
                    <p><i class="fas fa-box"></i> <strong>Pedidos Limitados:</strong> Trabalhamos sob demanda com capacidade controlada.</p>
                </div>
            </div>

            <div class="dica-fornada">
                <i class="fas fa-lightbulb"></i> <strong>Dica:</strong> Garanta o seu pedido com anteced√™ncia!
            </div>
            
            <button class="botao-acao botao-verde" onclick="fecharModal('modal-informacoes-fornada')">
                ENTENDI, VAMOS √ÄS COMPRAS! <i class="fas fa-arrow-right"></i>
            </button>
        </div>
    </div>

    <!-- ===================== MODAL 2: DETALHES DO PRODUTO ===================== -->
    <div id="modal-produto" class="modal">
        <button class="botao-fechar-modal" onclick="fecharModal('modal-produto')">&times;</button>
        
        <div id="corpo-modal-produto" class="conteudo-modal-produto">
            <!-- Conte√∫do ser√° injetado dinamicamente -->
        </div>
        
        <div class="botoes-modal-produto">
            <!-- Bot√£o para adicionar e continuar comprando -->
            <button id="botao-adicionar-simples" 
                    class="botao-acao botao-bege" 
                    onclick="adicionarItemAoCarrinho()">
                <i class="fas fa-plus"></i> ADICIONAR AO CARRINHO
            </button>
            
            <!-- Bot√£o para adicionar e ir para o carrinho -->
            <button id="botao-adicionar-e-ir-para-carrinho" 
                    class="botao-acao botao-verde" 
                    onclick="adicionarEIrParaCarrinho()" 
                    style="display: none;">
                <i class="fas fa-shopping-basket"></i> VER CARRINHO
            </button>
        </div>
    </div>
    
    <!-- ===================== MODAL 3: CARRINHO DE COMPRAS ===================== -->
    <div id="modal-carrinho" class="modal">
        <button class="botao-fechar-modal" onclick="fecharModal('modal-carrinho')">&times;</button>
        
        <div id="conteudo-carrinho" class="conteudo-modal-carrinho">
            <!-- Conte√∫do ser√° injetado dinamicamente pelo JavaScript -->
        </div>
    </div>

    <!-- ===================== MODAL 4: DADOS DO CLIENTE ===================== -->
    <div id="modal-dados-cliente" class="modal">
        <button class="botao-fechar-modal" onclick="fecharModal('modal-dados-cliente')">&times;</button>
        
        <div class="conteudo-modal">
            <h3 class="titulo-modal">Seus Dados</h3>
            
            <div class="formulario-dados">
                <!-- Campo: Nome Completo -->
                <div class="grupo-campo">
                    <label for="nome-cliente" class="rotulo-campo obrigatorio">
                        NOME COMPLETO
                    </label>
                    <input type="text" 
                           id="nome-cliente" 
                           class="campo-entrada"
                           placeholder="Como podemos te chamar?"
                           autocomplete="name">
                </div>
                
                <!-- Campo: WhatsApp -->
                <div class="grupo-campo">
                    <label for="whatsapp-cliente" class="rotulo-campo obrigatorio">
                        WHATSAPP
                    </label>
                    <input type="tel" 
                           id="whatsapp-cliente" 
                           class="campo-entrada"
                           placeholder="(11) 98765-4321"
                           autocomplete="tel">
                </div>
                
                <!-- Se√ß√£o de Endere√ßo (s√≥ aparece se for entrega) -->
                <div id="secao-endereco" style="display: none;">
                    <div class="separador-endereco"></div>
                    
                    <h4 class="subtitulo-endereco">
                        <i class="fas fa-map-marker-alt"></i> ENDERE√áO DE ENTREGA
                    </h4>
                    
                    <!-- Campo: CEP -->
                    <div class="grupo-campo">
                        <label for="codigo-postal-cliente" class="rotulo-campo obrigatorio">
                            CEP
                        </label>
                        <input type="text" 
                               id="codigo-postal-cliente" 
                               class="campo-entrada"
                               placeholder="00000-000"
                               maxlength="9"
                               oninput="formatarCodigoPostal(this)">
                        <small class="texto-ajuda">Digite 8 n√∫meros para buscar automaticamente</small>
                    </div>
                    
                    <!-- Campos autopreenchidos pelo CEP -->
                    <div class="grupo-campo">
                        <label for="logradouro-cliente" class="rotulo-campo obrigatorio">
                            RUA
                        </label>
                        <input type="text" 
                               id="logradouro-cliente" 
                               class="campo-entrada campo-leitura"
                               readonly
                               placeholder="Ser√° preenchido automaticamente">
                    </div>
                    
                    <div class="grupo-duplo">
                        <div class="grupo-campo">
                            <label for="bairro-cliente" class="rotulo-campo obrigatorio">
                                BAIRRO
                            </label>
                            <input type="text" 
                                   id="bairro-cliente" 
                                   class="campo-entrada campo-leitura"
                                   readonly
                                   placeholder="Ser√° preenchido automaticamente">
                        </div>
                        
                        <div class="grupo-campo">
                            <label for="cidade-cliente" class="rotulo-campo">
                                CIDADE/UF
                            </label>
                            <input type="text" 
                                   id="cidade-cliente" 
                                   class="campo-entrada campo-leitura"
                                   readonly
                                   placeholder="Ser√° preenchido automaticamente">
                        </div>
                    </div>
                    
                    <!-- Campos para preenchimento manual -->
                    <div class="grupo-duplo">
                        <div class="grupo-campo">
                            <label for="numero-residencia-cliente" class="rotulo-campo obrigatorio">
                                N√öMERO
                            </label>
                            <input type="text" 
                                   id="numero-residencia-cliente" 
                                   class="campo-entrada"
                                   placeholder="123"
                                   autocomplete="address-line2">
                        </div>
                        
                        <div class="grupo-campo">
                            <label for="complemento-residencia-cliente" class="rotulo-campo">
                                COMPLEMENTO
                            </label>
                            <input type="text" 
                                   id="complemento-residencia-cliente" 
                                   class="campo-entrada"
                                   placeholder="Apto 45, Bloco B"
                                   autocomplete="address-line3">
                        </div>
                    </div>
                    
                    <!-- Campo: Ponto de Refer√™ncia -->
                    <div class="grupo-campo">
                        <label for="ponto-referencia-entrega" class="rotulo-campo">
                            PONTO DE REFER√äNCIA
                        </label>
                        <input type="text" 
                               id="ponto-referencia-entrega" 
                               class="campo-entrada"
                               placeholder="Ex: Pr√≥ximo ao mercado, port√£o azul">
                    </div>
                    
                    <!-- Informa√ß√£o de Frete -->
                    <div id="informacao-frete" class="card-informacao-frete" style="display: none;">
                        <i class="fas fa-motorcycle"></i>
                        <div class="info-frete-conteudo">
                            <span class="info-frete-titulo">FRETE CALCULADO:</span>
                            <span id="valor-frete" class="info-frete-valor">R$ 0,00</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Bot√µes de A√ß√£o -->
            <div class="botoes-acao">
                <button id="botao-prosseguir-pagamento" 
                        class="botao-acao botao-verde"
                        onclick="validarDadosCliente()">
                    ESCOLHER PAGAMENTO <i class="fas fa-credit-card"></i>
                </button>
                
                <button class="botao-acao botao-bege"
                        onclick="fecharModal('modal-dados-cliente'); abrirModal('modal-carrinho');">
                    <i class="fas fa-arrow-left"></i> VOLTAR √Ä CESTA
                </button>
            </div>
        </div>
    </div>

    <!-- ===================== MODAL 5: FORMA DE PAGAMENTO ===================== -->
    <div id="modal-pagamento" class="modal">
        <button class="botao-fechar-modal" onclick="fecharTodosModais()">&times;</button>
        
        <div class="conteudo-modal">
            <h3 class="titulo-modal">Forma de Pagamento</h3>
            
            <!-- Resumo do Pedido -->
            <div class="resumo-pedido">
                <div class="resumo-item">
                    <span>Itens no Carrinho:</span>
                    <span id="quantidade-itens-pagamento">0</span>
                </div>
                <div class="resumo-item">
                    <span>Taxa de Entrega:</span>
                    <span id="taxa-entrega-pagamento">R$ 0,00</span>
                </div>
                <div class="resumo-total">
                    <span>TOTAL:</span>
                    <span id="total-geral-pagamento">R$ 0,00</span>
                </div>
            </div>
            
            <!-- Op√ß√µes de Pagamento -->
            <div class="opcoes-pagamento">
                <!-- Op√ß√£o 1: PIX -->
                <div class="opcao-pagamento" onclick="selecionarPagamento('PIX', this)">
                    <div class="opcao-cabecalho">
                        <i class="fa-brands fa-pix"></i>
                        <span class="opcao-titulo">PIX</span>
                        <span class="opcao-recomendado">RECOMENDADO</span>
                    </div>
                    
                    <div class="opcao-conteudo" style="display: none;">
                        <div class="pix-valor">
                            VALOR: <span id="valor-pix">R$ 0,00</span>
                        </div>
                        
                        <div class="pix-qrcode">
                            <div style="width:160px;height:160px;background:#f5f5f5;border:1px solid #ddd;display:flex;align-items:center;justify-content:center;border-radius:10px;margin:0 auto;flex-direction:column;">
                                <div style="background:black;width:140px;height:140px;display:grid;grid-template-columns:repeat(21, 1fr);grid-template-rows:repeat(21, 1fr);padding:10px;">
                                    <!-- Simula um QR Code -->
                                </div>
                                <span style="color:#666;font-size:12px;text-align:center;margin-top:10px;">QR Code PIX</span>
                            </div>
                            <p class="pix-legenda">Escaneie o QR Code ou copie a chave abaixo:</p>
                        </div>
                        
                        <div class="pix-chave" onclick="copiarChavePix()">
                            <span id="texto-chave-pix">paodociso@gmail.com</span>
                            <i class="far fa-copy"></i>
                        </div>
                        
                        <div id="mensagem-copiado" class="mensagem-sucesso" style="display: none;">
                            ‚úÖ Chave PIX copiada!
                        </div>
                    </div>
                </div>
                
                <!-- Op√ß√£o 2: Cart√£o -->
                <div class="opcao-pagamento" onclick="selecionarPagamento('Cart√£o', this)">
                    <div class="opcao-cabecalho">
                        <i class="fas fa-credit-card"></i>
                        <span class="opcao-titulo">CART√ÉO (CR√âDITO/D√âBITO)</span>
                    </div>
                    
                    <div class="opcao-conteudo" style="display: none;">
                        <p class="opcao-descricao">
                            Pague por aproxima√ß√£o na entrega ou solicite o link de pagamento via WhatsApp.
                        </p>
                    </div>
                </div>
                
                <!-- Op√ß√£o 3: Dinheiro -->
                <div class="opcao-pagamento" onclick="selecionarPagamento('Dinheiro', this)">
                    <div class="opcao-cabecalho">
                        <i class="fas fa-money-bill-wave"></i>
                        <span class="opcao-titulo">DINHEIRO</span>
                    </div>
                    
                    <div class="opcao-conteudo" style="display: none;">
                        <p class="opcao-descricao">
                            Pagamento em esp√©cie no momento da entrega/retirada.
                        </p>
                        <p class="opcao-observacao">
                            <i class="fas fa-info-circle"></i> Tenha o troco preparado, por favor.
                        </p>
                    </div>
                </div>
            </div>
            
            <!-- Bot√µes de A√ß√£o -->
            <div class="botoes-acao">
                <button id="botao-finalizar-pedido" 
                        class="botao-acao botao-verde"
                        onclick="finalizarPedido()"
                        disabled>
                    FINALIZAR PEDIDO <i class="fab fa-whatsapp"></i>
                </button>
                
                <button class="botao-acao botao-bege"
                        onclick="fecharModal('modal-pagamento'); abrirModal('modal-dados-cliente');">
                    <i class="fas fa-arrow-left"></i> VOLTAR AOS DADOS
                </button>
            </div>
        </div>
    </div>

    <!-- ===================== MODAL 6: CONFIRMA√á√ÉO DE SUCESSO ===================== -->
    <div id="modal-sucesso" class="modal">
        <div class="conteudo-modal-sucesso">
            <div class="icone-sucesso">
                <i class="fas fa-check-circle"></i>
            </div>
            
            <h3 class="titulo-sucesso">PEDIDO ENVIADO COM SUCESSO!</h3>
            
            <div class="mensagem-sucesso">
                <p>‚úÖ Seu pedido foi registrado em nosso sistema.</p>
                <p>üì± Voc√™ ser√° redirecionado para o WhatsApp em instantes...</p>
                <p>üí¨ Confirme o pagamento e combine os detalhes da entrega.</p>
            </div>
            
            <div class="detalhes-pedido">
                <div class="detalhe-item">
                    <i class="fas fa-receipt"></i>
                    <span>N¬∫ do Pedido: <strong id="numero-pedido">#0001</strong></span>
                </div>
                <div class="detalhe-item">
                    <i class="fas fa-clock"></i>
                    <span>Hor√°rio: <strong id="horario-pedido">00:00</strong></span>
                </div>
            </div>
            
            <button id="botao-fechar-sucesso" 
                    class="botao-acao botao-verde"
                    onclick="reiniciarSistema()">
                <i class="fas fa-home"></i> VOLTAR AO CARD√ÅPIO
            </button>
            
            <p class="texto-agradecimento">
                Obrigado por escolher o P√£o do Ciso! ü•ñ
            </p>
        </div>
    </div>

    <!-- ===================== RODAP√â ===================== -->
    <footer class="rodape">
        <div class="container">
            <p class="texto-rodape">
                <i class="fas fa-heart"></i> Feito com carinho por P√£o do Ciso
            </p>
            <p class="copyright">
                ¬© 2024 P√£o do Ciso - Todos os direitos reservados
            </p>
        </div>
    </footer>

    <!-- ===================== SCRIPTS JAVASCRIPT ===================== -->
    <!-- ORDEM CORRETA DE CARREGAMENTO -->
    <script src="js/dados.js"></script>
    <script src="js/state.js"></script>
    <script src="js/utils.js"></script>
    <script src="js/modais.js"></script>
    <script src="js/notificacoes.js"></script>
    <script src="js/cardapio.js"></script>
    <script src="js/produto-modal.js"></script>
    <script src="js/opcionais.js"></script>
    <script src="js/carrinho.js"></script>
    <script src="js/dados-cliente.js"></script>
    <script src="js/cep-frete.js"></script>
    <script src="js/pagamento.js"></script>
    <script src="js/envio.js"></script>
    <script src="js/main.js"></script>
</body>
</html>