<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Diagrama do Projeto ‚Äî P√£o do Ciso</title>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700;900&family=Inter:wght@400;500;600;700&family=JetBrains+Mono:wght@500;600&display=swap" rel="stylesheet">
    <style>
        :root {
            --verde: #2d3a27;
            --verde-claro: #3a5a24;
            --marrom: #2e2610;
            --bege: #fdf5e6;
            --bege-escuro: #f5f0e6;
            --borda: #dccbb0;
            --vermelho: #b22222;
            --cinza: #4a4a4a;
            --branco: #ffffff;
            --amarelo: #c8960c;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            font-family: 'Inter', sans-serif;
            background: var(--bege);
            color: var(--cinza);
        }

        header {
            background: var(--verde);
            color: white;
            padding: 40px;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        header::before {
            content: '';
            position: absolute;
            inset: 0;
            background: repeating-linear-gradient(45deg, transparent, transparent 40px, rgba(255,255,255,0.02) 40px, rgba(255,255,255,0.02) 80px);
        }

        .header-tag {
            display: inline-block;
            background: rgba(255,255,255,0.15);
            border: 1px solid rgba(255,255,255,0.3);
            font-size: 0.7rem;
            font-weight: 700;
            letter-spacing: 3px;
            text-transform: uppercase;
            padding: 5px 15px;
            border-radius: 20px;
            margin-bottom: 15px;
        }

        header h1 {
            font-family: 'Playfair Display', serif;
            font-size: 2.4rem;
            font-weight: 900;
            position: relative;
        }

        header p {
            opacity: 0.8;
            margin-top: 8px;
            font-size: 0.95rem;
            position: relative;
        }

        /* ABAS */
        .abas {
            display: flex;
            background: var(--bege-escuro);
            border-bottom: 2px solid var(--borda);
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .aba {
            flex: 1;
            padding: 16px;
            text-align: center;
            font-weight: 700;
            font-size: 0.85rem;
            text-transform: uppercase;
            letter-spacing: 1px;
            cursor: pointer;
            border-bottom: 3px solid transparent;
            transition: all 0.2s;
            color: var(--cinza);
            background: none;
            border: none;
            border-bottom: 3px solid transparent;
        }

        .aba:hover { background: rgba(0,0,0,0.04); }
        .aba.ativa {
            color: var(--verde);
            border-bottom: 3px solid var(--verde);
            background: var(--bege);
        }

        /* PAINEIS */
        .painel { display: none; padding: 40px 20px 80px; max-width: 1000px; margin: 0 auto; }
        .painel.ativo { display: block; }

        .titulo-secao {
            font-family: 'Playfair Display', serif;
            font-size: 1.6rem;
            color: var(--marrom);
            margin-bottom: 8px;
        }

        .subtitulo-secao {
            font-size: 0.85rem;
            color: #888;
            margin-bottom: 35px;
        }

        /* =====================
           FLUXO DO USU√ÅRIO
        ===================== */
        .fluxo {
            display: flex;
            flex-direction: column;
            gap: 0;
        }

        .etapa {
            display: flex;
            gap: 0;
            align-items: stretch;
        }

        .etapa-linha {
            display: flex;
            flex-direction: column;
            align-items: center;
            width: 60px;
            flex-shrink: 0;
        }

        .etapa-circulo {
            width: 44px;
            height: 44px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 900;
            font-size: 1rem;
            flex-shrink: 0;
            color: white;
            position: relative;
            z-index: 1;
        }

        .etapa-fio {
            width: 2px;
            flex: 1;
            min-height: 20px;
            background: var(--borda);
        }

        .etapa-conteudo {
            flex: 1;
            padding: 0 0 30px 20px;
        }

        .etapa-titulo {
            font-weight: 700;
            font-size: 1rem;
            color: var(--marrom);
            margin-bottom: 4px;
            padding-top: 10px;
        }

        .etapa-desc {
            font-size: 0.83rem;
            color: var(--cinza);
            line-height: 1.6;
            margin-bottom: 10px;
        }

        .etapa-arquivos {
            display: flex;
            flex-wrap: wrap;
            gap: 6px;
        }

        .tag-arquivo {
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.68rem;
            padding: 3px 8px;
            border-radius: 4px;
            font-weight: 600;
        }

        .tag-js { background: #fff8e6; color: #a07000; border: 1px solid #f0d88a; }
        .tag-css { background: #e8f0ff; color: #2244aa; border: 1px solid #b0c4f0; }
        .tag-html { background: #fff0e8; color: #a04000; border: 1px solid #f0c0a0; }
        .tag-dado { background: var(--bege-escuro); color: var(--verde); border: 1px solid var(--borda); }

        /* RAMIFICA√á√ÉO */
        .ramificacao {
            display: flex;
            gap: 15px;
            margin: 0 0 30px 80px;
        }

        .ramo {
            flex: 1;
            background: white;
            border: 1px solid var(--borda);
            border-radius: 12px;
            padding: 16px;
            position: relative;
        }

        .ramo::before {
            content: '';
            position: absolute;
            top: 50%;
            left: -15px;
            width: 15px;
            height: 2px;
            background: var(--borda);
        }

        .ramo-titulo {
            font-size: 0.8rem;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            margin-bottom: 8px;
        }

        .ramo-desc {
            font-size: 0.78rem;
            color: #888;
            line-height: 1.5;
        }

        /* CORES DAS ETAPAS */
        .cor-1 { background: #5b8a3c; }
        .cor-2 { background: #3a6b8a; }
        .cor-3 { background: #8a6b3a; }
        .cor-4 { background: #6b3a8a; }
        .cor-5 { background: #8a3a3a; }
        .cor-6 { background: #3a8a6b; }
        .cor-7 { background: var(--verde); }

        /* =====================
           DEPEND√äNCIAS
        ===================== */
        .grade-deps {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 16px;
        }

        .card-dep {
            background: white;
            border: 1px solid var(--borda);
            border-radius: 12px;
            overflow: hidden;
            transition: box-shadow 0.2s;
        }

        .card-dep:hover { box-shadow: 0 4px 20px rgba(0,0,0,0.1); }

        .card-dep-header {
            padding: 14px 16px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .card-dep-icone {
            width: 36px;
            height: 36px;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1rem;
            flex-shrink: 0;
        }

        .card-dep-nome {
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.8rem;
            font-weight: 600;
            color: var(--marrom);
        }

        .card-dep-papel {
            font-size: 0.72rem;
            color: #999;
            margin-top: 1px;
        }

        .card-dep-body {
            padding: 0 16px 14px;
            border-top: 1px solid var(--bege-escuro);
        }

        .dep-secao {
            margin-top: 10px;
        }

        .dep-label {
            font-size: 0.62rem;
            font-weight: 800;
            letter-spacing: 1.5px;
            text-transform: uppercase;
            color: #aaa;
            margin-bottom: 5px;
        }

        .dep-lista {
            display: flex;
            flex-wrap: wrap;
            gap: 4px;
        }

        .dep-tag {
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.65rem;
            padding: 2px 7px;
            border-radius: 4px;
            font-weight: 600;
        }

        .dep-usa { background: #e8f5e9; color: #2e7d32; border: 1px solid #c8e6c9; }
        .dep-expoe { background: #e3f2fd; color: #1565c0; border: 1px solid #bbdefb; }
        .dep-problema { background: #ffebee; color: #c62828; border: 1px solid #ffcdd2; }

        /* LEGENDA DEPS */
        .legenda-deps {
            display: flex;
            gap: 20px;
            flex-wrap: wrap;
            margin-bottom: 25px;
            padding: 15px 20px;
            background: white;
            border-radius: 10px;
            border: 1px solid var(--borda);
        }

        .legenda-item {
            display: flex;
            align-items: center;
            gap: 7px;
            font-size: 0.78rem;
            color: var(--cinza);
        }

        .legenda-bolinha {
            width: 10px;
            height: 10px;
            border-radius: 50%;
        }

        /* SE√á√ÉO CENTRAL */
        .nucleo {
            background: var(--verde);
            color: white;
            border-radius: 14px;
            padding: 20px 25px;
            margin-bottom: 25px;
            display: flex;
            align-items: center;
            gap: 20px;
        }

        .nucleo-icone {
            font-size: 2rem;
            flex-shrink: 0;
        }

        .nucleo-texto h3 {
            font-family: 'Playfair Display', serif;
            font-size: 1.1rem;
            margin-bottom: 4px;
        }

        .nucleo-texto p {
            font-size: 0.82rem;
            opacity: 0.8;
            line-height: 1.5;
        }

        .nucleo-tags {
            display: flex;
            flex-wrap: wrap;
            gap: 6px;
            margin-top: 10px;
        }

        .nucleo-tag {
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.68rem;
            background: rgba(255,255,255,0.15);
            border: 1px solid rgba(255,255,255,0.3);
            color: white;
            padding: 3px 8px;
            border-radius: 4px;
            font-weight: 600;
        }

        @media (max-width: 600px) {
            header { padding: 30px 20px; }
            header h1 { font-size: 1.8rem; }
            .painel { padding: 25px 15px 60px; }
            .ramificacao { flex-direction: column; margin-left: 60px; }
            .grade-deps { grid-template-columns: 1fr; }
        }
    </style>
</head>
<body>

<header>
    <div class="header-tag">Arquitetura do Projeto</div>
    <h1>Diagrama do Sistema</h1>
    <p>P√£o do Ciso ‚Äî fluxo do usu√°rio e depend√™ncias entre arquivos</p>
</header>

<div class="abas">
    <button class="aba ativa" onclick="trocarAba('fluxo', this)">üõí Fluxo do Usu√°rio</button>
    <button class="aba" onclick="trocarAba('deps', this)">üîó Depend√™ncias JS</button>
</div>

<!-- PAINEL 1: FLUXO -->
<div id="painel-fluxo" class="painel ativo">
    <div class="titulo-secao">Fluxo do Usu√°rio</div>
    <div class="subtitulo-secao">Do primeiro acesso √† confirma√ß√£o do pedido via WhatsApp</div>

    <div class="fluxo">

        <!-- ETAPA 1 -->
        <div class="etapa">
            <div class="etapa-linha">
                <div class="etapa-circulo cor-1">1</div>
                <div class="etapa-fio"></div>
            </div>
            <div class="etapa-conteudo">
                <div class="etapa-titulo">P√°gina carrega</div>
                <div class="etapa-desc">O browser carrega o HTML e executa os scripts na ordem definida. O <code>main.js</code> aguarda o DOM estar pronto e inicializa o sistema: carrega o carrinho salvo, renderiza o card√°pio, configura eventos e datas da fornada.</div>
                <div class="etapa-arquivos">
                    <span class="tag-arquivo tag-html">index.html</span>
                    <span class="tag-arquivo tag-js">main.js</span>
                    <span class="tag-arquivo tag-js">dados.js</span>
                    <span class="tag-arquivo tag-js">state.js</span>
                    <span class="tag-arquivo tag-js">cardapio.js</span>
                    <span class="tag-arquivo tag-js">fornada.js</span>
                </div>
            </div>
        </div>

        <!-- ETAPA 1b: CARRINHO SALVO? -->
        <div class="ramificacao">
            <div class="ramo">
                <div class="ramo-titulo" style="color: var(--verde);">‚úì Tinha carrinho salvo</div>
                <div class="ramo-desc">Modal de recupera√ß√£o aparece perguntando se quer manter ou limpar os itens anteriores.</div>
                <div style="margin-top:8px;">
                    <span class="tag-arquivo tag-js" style="font-family: monospace; font-size:0.65rem; background:#e8f5e9; color:#2e7d32; border:1px solid #c8e6c9; padding:2px 7px; border-radius:4px;">recuperacao-carrinho.js</span>
                </div>
            </div>
            <div class="ramo">
                <div class="ramo-titulo" style="color:#888;">‚Äî Carrinho vazio</div>
                <div class="ramo-desc">Nenhuma a√ß√£o. O usu√°rio v√™ o card√°pio diretamente.</div>
            </div>
        </div>

        <!-- ETAPA 2 -->
        <div class="etapa">
            <div class="etapa-linha">
                <div class="etapa-circulo cor-2">2</div>
                <div class="etapa-fio"></div>
            </div>
            <div class="etapa-conteudo">
                <div class="etapa-titulo">Usu√°rio clica num produto</div>
                <div class="etapa-desc">O card do card√°pio detecta o clique e abre o modal do produto. Se o produto tiver opcionais, eles s√£o carregados dinamicamente com busca em √°rvore nos dados.</div>
                <div class="etapa-arquivos">
                    <span class="tag-arquivo tag-js">cardapio.js</span>
                    <span class="tag-arquivo tag-js">produto-modal.js</span>
                    <span class="tag-arquivo tag-js">opcionais.js</span>
                    <span class="tag-arquivo tag-js">modais.js</span>
                    <span class="tag-arquivo tag-dado">dados.js</span>
                </div>
            </div>
        </div>

        <!-- ETAPA 3 -->
        <div class="etapa">
            <div class="etapa-linha">
                <div class="etapa-circulo cor-3">3</div>
                <div class="etapa-fio"></div>
            </div>
            <div class="etapa-conteudo">
                <div class="etapa-titulo">Adiciona ao carrinho</div>
                <div class="etapa-desc">Ao confirmar quantidade e opcionais, o produto √© sincronizado no objeto global <code>window.carrinho</code> e salvo no localStorage. O badge de quantidade aparece no card e a barra inferior √© atualizada.</div>
                <div class="etapa-arquivos">
                    <span class="tag-arquivo tag-js">produto-modal.js</span>
                    <span class="tag-arquivo tag-js">state.js</span>
                    <span class="tag-arquivo tag-js">carrinho.js</span>
                    <span class="tag-arquivo tag-js">cardapio.js</span>
                </div>
            </div>
        </div>

        <!-- ETAPA 4 -->
        <div class="etapa">
            <div class="etapa-linha">
                <div class="etapa-circulo cor-4">4</div>
                <div class="etapa-fio"></div>
            </div>
            <div class="etapa-conteudo">
                <div class="etapa-titulo">Abre o carrinho</div>
                <div class="etapa-desc">Clique na barra inferior abre o modal do carrinho. O usu√°rio escolhe retirada ou entrega, aplica cupom se tiver, e informa o CEP para calcular o frete.</div>
                <div class="etapa-arquivos">
                    <span class="tag-arquivo tag-js">carrinho.js</span>
                    <span class="tag-arquivo tag-js">cep-frete.js</span>
                    <span class="tag-arquivo tag-js">modais.js</span>
                </div>
            </div>
        </div>

        <!-- ETAPA 4b: ENTREGA OU RETIRADA -->
        <div class="ramificacao">
            <div class="ramo">
                <div class="ramo-titulo" style="color: var(--verde);">üöö Entrega</div>
                <div class="ramo-desc">Busca o endere√ßo pelo CEP via API ViaCEP. Calcula a taxa pelo bairro. Salva no estado global.</div>
                <div style="margin-top:8px;">
                    <span class="tag-arquivo tag-js" style="font-family: monospace; font-size:0.65rem; background:#fff8e6; color:#a07000; border:1px solid #f0d88a; padding:2px 7px; border-radius:4px;">cep-frete.js</span>
                    <span class="tag-arquivo tag-js" style="font-family: monospace; font-size:0.65rem; background:#fff8e6; color:#a07000; border:1px solid #f0d88a; padding:2px 7px; border-radius:4px; margin-left:4px;">address-manager.js</span>
                </div>
            </div>
            <div class="ramo">
                <div class="ramo-titulo" style="color: var(--marrom);">üè™ Retirada</div>
                <div class="ramo-desc">Sem taxa de entrega. Sem campos de endere√ßo. Segue direto para dados do cliente.</div>
            </div>
        </div>

        <!-- ETAPA 5 -->
        <div class="etapa">
            <div class="etapa-linha">
                <div class="etapa-circulo cor-5">5</div>
                <div class="etapa-fio"></div>
            </div>
            <div class="etapa-conteudo">
                <div class="etapa-titulo">Preenche dados pessoais</div>
                <div class="etapa-desc">Modal de dados do cliente: nome, WhatsApp e endere√ßo completo (se for entrega). Os dados s√£o validados e salvos no localStorage para facilitar compras futuras.</div>
                <div class="etapa-arquivos">
                    <span class="tag-arquivo tag-js">dados-cliente.js</span>
                    <span class="tag-arquivo tag-js">address-manager.js</span>
                    <span class="tag-arquivo tag-js">cep-frete.js</span>
                    <span class="tag-arquivo tag-js">modais.js</span>
                </div>
            </div>
        </div>

        <!-- ETAPA 6 -->
        <div class="etapa">
            <div class="etapa-linha">
                <div class="etapa-circulo cor-6">6</div>
                <div class="etapa-fio"></div>
            </div>
            <div class="etapa-conteudo">
                <div class="etapa-titulo">Escolhe forma de pagamento</div>
                <div class="etapa-desc">PIX (com chave e QR code), cart√£o ou dinheiro. O resumo financeiro final √© recalculado. O bot√£o de finalizar s√≥ ativa ap√≥s a sele√ß√£o.</div>
                <div class="etapa-arquivos">
                    <span class="tag-arquivo tag-js">pagamento.js</span>
                    <span class="tag-arquivo tag-js">carrinho.js</span>
                    <span class="tag-arquivo tag-js">modais.js</span>
                </div>
            </div>
        </div>

        <!-- ETAPA 7 -->
        <div class="etapa">
            <div class="etapa-linha">
                <div class="etapa-circulo cor-7">7</div>
                <div class="etapa-fio"></div>
            </div>
            <div class="etapa-conteudo">
                <div class="etapa-titulo">Pedido finalizado</div>
                <div class="etapa-desc">Duas coisas acontecem em paralelo: a mensagem formatada abre no WhatsApp do vendedor, e os dados do pedido s√£o enviados para a planilha Google Sheets. O modal de sucesso confirma para o usu√°rio.</div>
                <div class="etapa-arquivos">
                    <span class="tag-arquivo tag-js">envio.js</span>
                    <span class="tag-arquivo tag-js">pagamento.js</span>
                    <span class="tag-arquivo tag-js">modais.js</span>
                    <span class="tag-arquivo tag-dado">Google Sheets</span>
                    <span class="tag-arquivo tag-dado">WhatsApp API</span>
                </div>
            </div>
        </div>

    </div>
</div>

<!-- PAINEL 2: DEPEND√äNCIAS -->
<div id="painel-deps" class="painel">
    <div class="titulo-secao">Depend√™ncias entre Arquivos JS</div>
    <div class="subtitulo-secao">O que cada arquivo usa e o que exp√µe para os outros</div>

    <div class="nucleo">
        <div class="nucleo-icone">üèõÔ∏è</div>
        <div class="nucleo-texto">
            <h3>N√∫cleo da aplica√ß√£o</h3>
            <p>Estes tr√™s arquivos s√£o carregados primeiro e fornecem a base para todos os outros. Nenhum m√≥dulo funciona sem eles.</p>
            <div class="nucleo-tags">
                <span class="nucleo-tag">dados.js ‚Üí window.dadosIniciais</span>
                <span class="nucleo-tag">state.js ‚Üí window.carrinho, window.estadoAplicativo</span>
                <span class="nucleo-tag">utils.js ‚Üí elemento(), formatarMoeda()</span>
            </div>
        </div>
    </div>

    <div class="legenda-deps">
        <div class="legenda-item"><div class="legenda-bolinha" style="background:#2e7d32;"></div> Usa fun√ß√µes de outro arquivo</div>
        <div class="legenda-item"><div class="legenda-bolinha" style="background:#1565c0;"></div> Exp√µe fun√ß√µes para outros</div>
        <div class="legenda-item"><div class="legenda-bolinha" style="background:#c62828;"></div> Ponto de aten√ß√£o / duplica√ß√£o</div>
    </div>

    <div class="grade-deps">

        <div class="card-dep">
            <div class="card-dep-header">
                <div class="card-dep-icone" style="background:#fff8e6;">üóÇÔ∏è</div>
                <div>
                    <div class="card-dep-nome">dados.js</div>
                    <div class="card-dep-papel">Fonte de dados ‚Äî carrega primeiro</div>
                </div>
            </div>
            <div class="card-dep-body">
                <div class="dep-secao">
                    <div class="dep-label">Exp√µe</div>
                    <div class="dep-lista">
                        <span class="dep-tag dep-expoe">window.dadosIniciais</span>
                    </div>
                </div>
                <div class="dep-secao">
                    <div class="dep-label">Depende de</div>
                    <div class="dep-lista">
                        <span style="font-size:0.75rem; color:#aaa;">Ningu√©m ‚Äî √© o primeiro</span>
                    </div>
                </div>
            </div>
        </div>

        <div class="card-dep">
            <div class="card-dep-header">
                <div class="card-dep-icone" style="background:#e8f5e9;">üíæ</div>
                <div>
                    <div class="card-dep-nome">state.js</div>
                    <div class="card-dep-papel">Estado global da aplica√ß√£o</div>
                </div>
            </div>
            <div class="card-dep-body">
                <div class="dep-secao">
                    <div class="dep-label">Exp√µe</div>
                    <div class="dep-lista">
                        <span class="dep-tag dep-expoe">window.carrinho</span>
                        <span class="dep-tag dep-expoe">window.estadoAplicativo</span>
                        <span class="dep-tag dep-expoe">salvarCarrinho()</span>
                        <span class="dep-tag dep-expoe">resetarEstado()</span>
                    </div>
                </div>
                <div class="dep-secao">
                    <div class="dep-label">Aten√ß√£o</div>
                    <div class="dep-lista">
                        <span class="dep-tag dep-problema">enderecoCliente duplicado</span>
                        <span class="dep-tag dep-problema">dadosCliente duplicado</span>
                    </div>
                </div>
            </div>
        </div>

        <div class="card-dep">
            <div class="card-dep-header">
                <div class="card-dep-icone" style="background:#f3e5f5;">üîß</div>
                <div>
                    <div class="card-dep-nome">utils.js</div>
                    <div class="card-dep-papel">Fun√ß√µes utilit√°rias compartilhadas</div>
                </div>
            </div>
            <div class="card-dep-body">
                <div class="dep-secao">
                    <div class="dep-label">Exp√µe</div>
                    <div class="dep-lista">
                        <span class="dep-tag dep-expoe">elemento()</span>
                        <span class="dep-tag dep-expoe">formatarMoeda()</span>
                        <span class="dep-tag dep-expoe">formatarCEP()</span>
                        <span class="dep-tag dep-expoe">validarTelefone()</span>
                    </div>
                </div>
                <div class="dep-secao">
                    <div class="dep-label">Aten√ß√£o</div>
                    <div class="dep-lista">
                        <span class="dep-tag dep-problema">elemento() redefinida em cep-frete.js</span>
                        <span class="dep-tag dep-problema">formatarCEP() duplicada em 3 arquivos</span>
                    </div>
                </div>
            </div>
        </div>

        <div class="card-dep">
            <div class="card-dep-header">
                <div class="card-dep-icone" style="background:#e8f0ff;">ü™ü</div>
                <div>
                    <div class="card-dep-nome">modais.js</div>
                    <div class="card-dep-papel">Controle de abertura e fechamento</div>
                </div>
            </div>
            <div class="card-dep-body">
                <div class="dep-secao">
                    <div class="dep-label">Usa</div>
                    <div class="dep-lista">
                        <span class="dep-tag dep-usa">elemento() ‚Äî utils</span>
                        <span class="dep-tag dep-usa">formatarWhatsApp() ‚Äî utils</span>
                    </div>
                </div>
                <div class="dep-secao">
                    <div class="dep-label">Exp√µe</div>
                    <div class="dep-lista">
                        <span class="dep-tag dep-expoe">abrirModal()</span>
                        <span class="dep-tag dep-expoe">fecharModal()</span>
                        <span class="dep-tag dep-expoe">fecharTodosModais()</span>
                    </div>
                </div>
            </div>
        </div>

        <div class="card-dep">
            <div class="card-dep-header">
                <div class="card-dep-icone" style="background:#fff8e6;">üóìÔ∏è</div>
                <div>
                    <div class="card-dep-nome">fornada.js</div>
                    <div class="card-dep-papel">Datas e status da fornada</div>
                </div>
            </div>
            <div class="card-dep-body">
                <div class="dep-secao">
                    <div class="dep-label">Usa</div>
                    <div class="dep-lista">
                        <span class="dep-tag dep-usa">dadosIniciais ‚Äî dados</span>
                        <span class="dep-tag dep-usa">abrirModal() ‚Äî modais</span>
                    </div>
                </div>
                <div class="dep-secao">
                    <div class="dep-label">Aten√ß√£o</div>
                    <div class="dep-lista">
                        <span class="dep-tag dep-problema">desabilitarFornada() duplicada</span>
                        <span class="dep-tag dep-problema">bug no parsing de hora</span>
                    </div>
                </div>
            </div>
        </div>

        <div class="card-dep">
            <div class="card-dep-header">
                <div class="card-dep-icone" style="background:#e8f5e9;">üõçÔ∏è</div>
                <div>
                    <div class="card-dep-nome">cardapio.js</div>
                    <div class="card-dep-papel">Renderiza√ß√£o dos produtos</div>
                </div>
            </div>
            <div class="card-dep-body">
                <div class="dep-secao">
                    <div class="dep-label">Usa</div>
                    <div class="dep-lista">
                        <span class="dep-tag dep-usa">dadosIniciais ‚Äî dados</span>
                        <span class="dep-tag dep-usa">carrinho ‚Äî state</span>
                        <span class="dep-tag dep-usa">formatarMoeda() ‚Äî utils</span>
                        <span class="dep-tag dep-usa">elemento() ‚Äî utils</span>
                    </div>
                </div>
                <div class="dep-secao">
                    <div class="dep-label">Aten√ß√£o</div>
                    <div class="dep-lista">
                        <span class="dep-tag dep-problema">mostrarNotificacao() duplicada</span>
                        <span class="dep-tag dep-problema">calcularDatasFornada() fora do lugar</span>
                    </div>
                </div>
            </div>
        </div>

        <div class="card-dep">
            <div class="card-dep-header">
                <div class="card-dep-icone" style="background:#fff0e8;">üõí</div>
                <div>
                    <div class="card-dep-nome">carrinho.js</div>
                    <div class="card-dep-papel">Modal do carrinho e c√°lculos</div>
                </div>
            </div>
            <div class="card-dep-body">
                <div class="dep-secao">
                    <div class="dep-label">Usa</div>
                    <div class="dep-lista">
                        <span class="dep-tag dep-usa">carrinho ‚Äî state</span>
                        <span class="dep-tag dep-usa">estadoAplicativo ‚Äî state</span>
                        <span class="dep-tag dep-usa">dadosIniciais ‚Äî dados</span>
                        <span class="dep-tag dep-usa">abrirModal() ‚Äî modais</span>
                        <span class="dep-tag dep-usa">buscarEnderecoPorCEP() ‚Äî cep-frete</span>
                    </div>
                </div>
                <div class="dep-secao">
                    <div class="dep-label">Aten√ß√£o</div>
                    <div class="dep-lista">
                        <span class="dep-tag dep-problema">formatarCEP() duplicada</span>
                        <span class="dep-tag dep-problema">resumo HTML duplicado</span>
                        <span class="dep-tag dep-problema">setTimeout em cascata</span>
                    </div>
                </div>
            </div>
        </div>

        <div class="card-dep">
            <div class="card-dep-header">
                <div class="card-dep-icone" style="background:#e8f0ff;">üìç</div>
                <div>
                    <div class="card-dep-nome">cep-frete.js</div>
                    <div class="card-dep-papel">Busca CEP e calcula frete</div>
                </div>
            </div>
            <div class="card-dep-body">
                <div class="dep-secao">
                    <div class="dep-label">Usa</div>
                    <div class="dep-lista">
                        <span class="dep-tag dep-usa">dadosIniciais ‚Äî dados</span>
                        <span class="dep-tag dep-usa">estadoAplicativo ‚Äî state</span>
                        <span class="dep-tag dep-usa">enderecoCliente ‚Äî state</span>
                        <span class="dep-tag dep-usa">ViaCEP API ‚Äî externo</span>
                    </div>
                </div>
                <div class="dep-secao">
                    <div class="dep-label">Aten√ß√£o</div>
                    <div class="dep-lista">
                        <span class="dep-tag dep-problema">elemento() redefinida</span>
                        <span class="dep-tag dep-problema">3 fontes de taxa de entrega</span>
                        <span class="dep-tag dep-problema">chama renderizarCarrinho()</span>
                    </div>
                </div>
            </div>
        </div>

        <div class="card-dep">
            <div class="card-dep-header">
                <div class="card-dep-icone" style="background:#fce4ec;">üë§</div>
                <div>
                    <div class="card-dep-nome">dados-cliente.js</div>
                    <div class="card-dep-papel">Valida√ß√£o e persist√™ncia do cliente</div>
                </div>
            </div>
            <div class="card-dep-body">
                <div class="dep-secao">
                    <div class="dep-label">Usa</div>
                    <div class="dep-lista">
                        <span class="dep-tag dep-usa">elemento() ‚Äî utils</span>
                        <span class="dep-tag dep-usa">estadoAplicativo ‚Äî state</span>
                        <span class="dep-tag dep-usa">AddressManager ‚Äî address-manager</span>
                        <span class="dep-tag dep-usa">localStorage ‚Äî browser</span>
                    </div>
                </div>
                <div class="dep-secao">
                    <div class="dep-label">Aten√ß√£o</div>
                    <div class="dep-lista">
                        <span class="dep-tag dep-problema">sem valida√ß√£o de WhatsApp</span>
                        <span class="dep-tag dep-problema">alert() nativo</span>
                    </div>
                </div>
            </div>
        </div>

        <div class="card-dep">
            <div class="card-dep-header">
                <div class="card-dep-icone" style="background:#e8f5e9;">üí≥</div>
                <div>
                    <div class="card-dep-nome">pagamento.js</div>
                    <div class="card-dep-papel">Sele√ß√£o de pagamento e finaliza√ß√£o</div>
                </div>
            </div>
            <div class="card-dep-body">
                <div class="dep-secao">
                    <div class="dep-label">Usa</div>
                    <div class="dep-lista">
                        <span class="dep-tag dep-usa">estadoAplicativo ‚Äî state</span>
                        <span class="dep-tag dep-usa">abrirModal() ‚Äî modais</span>
                        <span class="dep-tag dep-usa">processarFinalizacaoPedido() ‚Äî envio</span>
                        <span class="dep-tag dep-usa">atualizarResumoPagamento() ‚Äî carrinho</span>
                    </div>
                </div>
                <div class="dep-secao">
                    <div class="dep-label">Aten√ß√£o</div>
                    <div class="dep-lista">
                        <span class="dep-tag dep-problema">chavePix hardcoded</span>
                        <span class="dep-tag dep-problema">estilo inline em vez de classe</span>
                    </div>
                </div>
            </div>
        </div>

        <div class="card-dep">
            <div class="card-dep-header">
                <div class="card-dep-icone" style="background:#fff8e6;">üì§</div>
                <div>
                    <div class="card-dep-nome">envio.js</div>
                    <div class="card-dep-papel">Gera√ß√£o da mensagem e envio</div>
                </div>
            </div>
            <div class="card-dep-body">
                <div class="dep-secao">
                    <div class="dep-label">Usa</div>
                    <div class="dep-lista">
                        <span class="dep-tag dep-usa">carrinho ‚Äî state</span>
                        <span class="dep-tag dep-usa">estadoAplicativo ‚Äî state</span>
                        <span class="dep-tag dep-usa">dadosIniciais ‚Äî dados</span>
                        <span class="dep-tag dep-usa">formatarMoeda() ‚Äî utils</span>
                        <span class="dep-tag dep-usa">Google Sheets API ‚Äî externo</span>
                    </div>
                </div>
                <div class="dep-secao">
                    <div class="dep-label">Aten√ß√£o</div>
                    <div class="dep-lista">
                        <span class="dep-tag dep-problema">URL planilha hardcoded</span>
                        <span class="dep-tag dep-problema">WhatsApp hardcoded</span>
                    </div>
                </div>
            </div>
        </div>

        <div class="card-dep">
            <div class="card-dep-header">
                <div class="card-dep-icone" style="background:#f3e5f5;">üß©</div>
                <div>
                    <div class="card-dep-nome">produto-modal.js</div>
                    <div class="card-dep-papel">Modal de detalhes do produto</div>
                </div>
            </div>
            <div class="card-dep-body">
                <div class="dep-secao">
                    <div class="dep-label">Usa</div>
                    <div class="dep-lista">
                        <span class="dep-tag dep-usa">produtoAtual ‚Äî state</span>
                        <span class="dep-tag dep-usa">dadosIniciais ‚Äî dados</span>
                        <span class="dep-tag dep-usa">carrinho ‚Äî state</span>
                        <span class="dep-tag dep-usa">salvarCarrinho() ‚Äî state</span>
                        <span class="dep-tag dep-usa">abrirModal() ‚Äî modais</span>
                    </div>
                </div>
                <div class="dep-secao">
                    <div class="dep-label">Exp√µe</div>
                    <div class="dep-lista">
                        <span class="dep-tag dep-expoe">sincronizarProdutoNoCarrinho()</span>
                        <span class="dep-tag dep-expoe">configurarProduto()</span>
                    </div>
                </div>
            </div>
        </div>

        <div class="card-dep">
            <div class="card-dep-header">
                <div class="card-dep-icone" style="background:#e8f0ff;">üîî</div>
                <div>
                    <div class="card-dep-nome">notificacoes.js</div>
                    <div class="card-dep-papel">Alertas visuais flutuantes</div>
                </div>
            </div>
            <div class="card-dep-body">
                <div class="dep-secao">
                    <div class="dep-label">Exp√µe</div>
                    <div class="dep-lista">
                        <span class="dep-tag dep-expoe">mostrarNotificacao()</span>
                        <span class="dep-tag dep-expoe">adicionarEstilosNotificacoes()</span>
                    </div>
                </div>
                <div class="dep-secao">
                    <div class="dep-label">Aten√ß√£o</div>
                    <div class="dep-lista">
                        <span class="dep-tag dep-problema">sobrescrita por cardapio.js</span>
                        <span class="dep-tag dep-problema">injeta CSS do carrinho via JS</span>
                    </div>
                </div>
            </div>
        </div>

        <div class="card-dep">
            <div class="card-dep-header">
                <div class="card-dep-icone" style="background:#fff0e8;">üîÑ</div>
                <div>
                    <div class="card-dep-nome">recuperacao-carrinho.js</div>
                    <div class="card-dep-papel">Restaura√ß√£o de sess√£o anterior</div>
                </div>
            </div>
            <div class="card-dep-body">
                <div class="dep-secao">
                    <div class="dep-label">Usa</div>
                    <div class="dep-lista">
                        <span class="dep-tag dep-usa">carrinho ‚Äî state</span>
                        <span class="dep-tag dep-usa">salvarCarrinho() ‚Äî state</span>
                        <span class="dep-tag dep-usa">abrirModal() ‚Äî modais</span>
                        <span class="dep-tag dep-usa">mostrarNotificacao() ‚Äî notificacoes</span>
                    </div>
                </div>
                <div class="dep-secao">
                    <div class="dep-label">Aten√ß√£o</div>
                    <div class="dep-lista">
                        <span class="dep-tag dep-problema">guerra CSS vs JS no display</span>
                    </div>
                </div>
            </div>
        </div>

        <div class="card-dep">
            <div class="card-dep-header">
                <div class="card-dep-icone" style="background:#e8f5e9;">üöÄ</div>
                <div>
                    <div class="card-dep-nome">main.js</div>
                    <div class="card-dep-papel">Orquestrador ‚Äî inicializa tudo</div>
                </div>
            </div>
            <div class="card-dep-body">
                <div class="dep-secao">
                    <div class="dep-label">Usa (inicializa)</div>
                    <div class="dep-lista">
                        <span class="dep-tag dep-usa">carregarCarrinhoSalvo() ‚Äî state</span>
                        <span class="dep-tag dep-usa">renderizarCardapio() ‚Äî cardapio</span>
                        <span class="dep-tag dep-usa">configurarDatasFornada() ‚Äî fornada</span>
                        <span class="dep-tag dep-usa">configurarEventosCEP() ‚Äî cep-frete</span>
                        <span class="dep-tag dep-usa">iniciarRecuperacaoCarrinho() ‚Äî recuperacao</span>
                    </div>
                </div>
                <div class="dep-secao">
                    <div class="dep-label">Aten√ß√£o</div>
                    <div class="dep-lista">
                        <span class="dep-tag dep-problema">interceptador de modal fr√°gil</span>
                        <span class="dep-tag dep-problema">setTimeout para inicializar</span>
                    </div>
                </div>
            </div>
        </div>

    </div>
</div>

<script>
    function trocarAba(id, btn) {
        document.querySelectorAll('.painel').forEach(p => p.classList.remove('ativo'));
        document.querySelectorAll('.aba').forEach(a => a.classList.remove('ativa'));
        document.getElementById('painel-' + id).classList.add('ativo');
        btn.classList.add('ativa');
    }
</script>

</body>
</html>
